[build]
  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "build"

  # Default build command
  command = "npm install; npm run format-docs; npm run build"

[dev]
  # A Boolean value that determines if Netlify Dev launches the local server address in your browser
  autoLaunch = true

# Redirects

# Domains
[[redirects]]
  from = "https://react-testing-library.com/"
  to = "/react/"
  force = true
[[redirects]]
  from = "https://react-testing-library.com/*"
  to = "/:splat"
  force = true
[[redirects]]
  from = "https://testing-library.netlify.com/*"
  to = "/:splat"
  force = true

# Shortcut to Discord server invite
[[redirects]]
  from = "/discord"
  to = "https://discord.gg/testing-library"

# Support page to help page
[[redirects]]
  from = "/support"
  to = "/help"

# React Redux recipe to Redux's recipe
[[redirects]]
  from = "/docs/example-react-redux"
  to = "https://redux.js.org/recipes/writing-tests#connected-components"

# Screen error message to correct page
[[redirects]]
  from = "/s/screen-global-error"
  to = "/docs/queries/about#screen"

# Obsolete or split pages
[[redirects]]
  from = "/docs/guide-using-fake-timers"
  to = "/docs/using-fake-timers"
[[redirects]]
  from = "/docs/guide-which-query"
  to = "/docs/queries/about#priority"
[[redirects]]
  from = "/docs/dom-testing-library/api-queries"
  to = "/docs/queries/about"
[[redirects]]
  from = "/docs/dom-testing-library/api-helpers"
  to = "/docs/dom-testing-library/api-accessibility"

# Reorganization (do not redirect if route is not 404)
[[redirects]]
  from = "/docs/*"
  to = "/docs/dom-testing-library/:splat"

# Landing pages
[[redirects]]
  from = "/dom/"
  to = "/docs/dom-testing-library/intro"
[[redirects]]
  from = "/react/"
  to = "/docs/react-testing-library/intro"
[[redirects]]
  from = "/react-native/"
  to = "/docs/react-native-testing-library/intro"
[[redirects]]
  from = "/cypress/"
  to = "/docs/cypress-testing-library/intro"
[[redirects]]
  from = "/vue/"
  to = "/docs/vue-testing-library/intro"
[[redirects]]
  from = "/angular/"
  to = "/docs/angular-testing-library/intro"
[[redirects]]
  from = "/pptr/"
  to = "/docs/pptr-testing-library/intro"
[[redirects]]
  from = "/svelte/"
  to = "/docs/svelte-testing-library/intro"
[[redirects]]
  from = "/preact/"
  to = "/docs/preact-testing-library/intro"
[[redirects]]
  from = "/jest-dom/"
  to = "/docs/ecosystem-jest-dom"
[[redirects]]
  from = "/testcafe/"
  to = "/docs/testcafe-testing-library/intro"
[[redirects]]
  from = "/nightwatch/"
  to = "/docs/nightwatch-testing-library/intro"
[[redirects]]
  from = "/user-event/"
  to = "/docs/user-event/intro"
